{"version":3,"sources":["webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.ts","webpack:///src/app/home/home.page.html"],"names":["routes","path","component","HomePage","HomePageRoutingModule","RouterModule","HomePageModule","CommonModule","FormsModule","IonicModule","DatePicker","Plugins","activatedRoute","router","storage","dataService","pickerIsHidden","inputIsHidden","calendarPicker","inputDuration","USER_STORAGE_KEY","infoRecv","snapshot","paramMap","get","console","log","getStorageData","then","val","length","firstname","lastname","weight","duration","date","days","result","Date","setDate","getDate","date2","date1","endDate","startDate","timeInMilisec","getTime","daysBetweenDates","Math","ceil","myCurrentDate","myFutureDate","info","initData","username","addStorageDataNew","navigate","showDateInput","showDatePicker","btnClicked"],"mappings":"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","file":"src_app_home_home_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { Component } from '@angular/core';\nimport { Storage } from '@ionic/storage-angular';\nimport { DataService } from '../services/data.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Plugins } from \"@capacitor/core\";\nimport { DatePickerPluginInterface } from \"@capacitor-community/date-picker\";\n\nconst DatePicker: DatePickerPluginInterface = Plugins.DatePickerPlugin as any;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n\n  firstname:string;\n  lastname:string;\n  weight;\n  duration:any;\n  date;\n  todayDate;\n  pickerIsHidden = true;\n  inputIsHidden = true;\n\n  calendarPicker=false;\n  inputDuration=false;\n  USER_STORAGE_KEY='';\n\n  startDate;\n  endDate;\n\n\n\n  constructor(private activatedRoute: ActivatedRoute, private router:Router, private storage: Storage, private dataService: DataService) {\n\n    let infoRecv = this.activatedRoute.snapshot.paramMap.get(\"id\")\n    this.USER_STORAGE_KEY=infoRecv\n    console.log(this.USER_STORAGE_KEY)\n\n\n//Get init data from storage - if stoarge is NULL - empty string  - if previously entered assign last entered data\n    this.dataService.getStorageData(this.USER_STORAGE_KEY).then((val) => {\n      // console.log(val)\n      // console.log(val[0].length == 0)\n      if (val[0].length == 0) { \n        this.firstname = \"\";\n        this.lastname = \"\";\n        this.weight = \"\";\n        this.duration = \"\";\n      } else {\n        // console.log(val[0][val[0].length - 1].firstname)\n        this.firstname = val[0][val[0].length - 1].firstname;\n        this.lastname = val[0][val[0].length - 1].lastname;\n        this.weight = val[0][val[0].length - 1].weight;\n        this.duration = val[0][val[0].length - 1].duration;\n        }\n    }); \n  }\n\n  showDatePicker(){\n    this.calendarPicker = true;\n    this.inputDuration = false;\n    this.pickerIsHidden = false;\n    this.inputIsHidden = true;\n    // console.log(this.duration.value)\n    \n  }\n  showDateInput(){\n    this.inputDuration = true;\n    this.calendarPicker = false;\n    this.inputIsHidden = false;\n    this.pickerIsHidden = true;\n  }\n\n  addDays(date, days) {\n    var result = new Date(date);\n    result.setDate(result.getDate() + days);\n    return result;\n  }\n\n\n\n// when button is clicked - get inputs and assign to varibles & add to storage \n  async btnClicked(){\n\n    let infoRecv = this.activatedRoute.snapshot.paramMap.get(\"id\")\n    this.USER_STORAGE_KEY=infoRecv\n\n    if (this.calendarPicker === true){\n      let date2 = new Date();\n      let date1 = new Date(this.date);\n      this.endDate = date1\n      this.startDate = date2\n      // console.log(date1)\n      // console.log(date2)\n      let timeInMilisec = date1.getTime() - date2.getTime();\n      let daysBetweenDates = Math.ceil(timeInMilisec / (1000 * 60 * 60 * 24));\n      this.duration=daysBetweenDates\n    } else {\n      // let endDate = new Date();\n      console.log(typeof(this.duration))\n      var myCurrentDate=new Date();\n      var myFutureDate=new Date(myCurrentDate);\n      myFutureDate.setDate(myFutureDate.getDate()+ this.duration);//myFutureDate is now 8 days in the future\n      console.log(myFutureDate)\n      this.endDate=myFutureDate\n\n    }\n\n    let info = {\n      initData: {\n        firstname: this.firstname,\n        lastname: this.lastname,\n        weight: this.weight,\n        duration: this.duration,\n        username: this.USER_STORAGE_KEY,\n        startDate: this.startDate,\n        endDate: this.endDate\n      }\n    }\n\n\n    await this.dataService.addStorageDataNew(this.USER_STORAGE_KEY, 0, info) \n    \n    this.router.navigate(['main', this.USER_STORAGE_KEY])\n  }\n\n}\n","<ion-header collapse=\"condense\" class=\"ion-padding-top\">\n  <ion-toolbar>\n    <ion-title size=\"large\">Welcome</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n\n<div id=\"container\">\n  <ion-list class=\"background\">\n\n  \n      <ion-item ><ion-input [(ngModel)]=\"firstname\" placeholder=\"First Name\"></ion-input></ion-item>\n      <ion-item ><ion-input [(ngModel)]=\"lastname\" placeholder=\"Second Name\"></ion-input></ion-item>\n      <ion-item ><ion-input [(ngModel)]=\"weight\" placeholder=\"Current Weight\"></ion-input></ion-item>\n\n      <ion-row wrap>\n        <ion-col width-50>\n          <ion-button (click)=\"showDateInput()\" shape=\"round\" class=\"buttonRow\" expand=\"full\" >Choose Duration<ion-icon class=\"icon\" name=\"time-outline\"></ion-icon></ion-button>\n        </ion-col>\n        <ion-col width-50>\n          <ion-button (click)=\"showDatePicker()\" shape=\"round\" class=\"buttonRow\" expand=\"full\">Pick Finishing Date <ion-icon class=\"icon\" name=\"calendar-outline\"></ion-icon></ion-button>\n        </ion-col>\n      </ion-row>\n\n      <ion-item [hidden]=inputIsHidden >\n        <ion-input type=\"number\" min=\"0\" inputmode=\"numeric\" pattern=\"[0-9]*\" [(ngModel)]=\"duration\" placeholder=\"Number of Days\"></ion-input>\n        </ion-item>\n\n        <!-- TODO - CHANGE WEIGHT AND DURTION TO KEYPAD INPUT && DISPLAY FINISHING DATE ON BOTH HOME AND MAIN PAGES  -->\n\n        <ion-item [hidden]=pickerIsHidden>\n          <ion-label>Finishing Date</ion-label>\n          <ion-input\n            value=\"{{ date | date: 'dd.MM.yyyy' }}\"\n            id=\"date\"\n            class=\"ion-text-end\"></ion-input>\n              <ion-datetime presentation=\"date\" [(ngModel)]=\"date\"></ion-datetime>\n        </ion-item>\n\n\n\n    <div>\n      <ion-button (click)=\"btnClicked()\" shape=\"round\">DONE</ion-button>\n    </div>\n  \n  </ion-list>\n\n\n\n\n"]}