{"version":3,"sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.ts","./src/app/home/home.page.html"],"names":[],"mappings":"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","file":"src_app_home_home_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { Component } from '@angular/core';\nimport { Storage } from '@ionic/storage-angular';\nimport { DataService } from '../services/data.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Plugins } from \"@capacitor/core\";\nimport { DatePickerPluginInterface } from \"@capacitor-community/date-picker\";\n\nconst DatePicker: DatePickerPluginInterface = Plugins.DatePickerPlugin as any;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n\n  firstname:string;\n  lastname:string;\n  weight;\n  duration:any;\n  date;\n  todayDate;\n  pickerIsHidden = true;\n  inputIsHidden = true;\n\n  calendarPicker=false;\n  inputDuration=false;\n  USER_STORAGE_KEY='';\n\n  startDate;\n  endDate;\n\n\n\n  constructor(private activatedRoute: ActivatedRoute, private router:Router, private storage: Storage, private dataService: DataService) {\n\n    let infoRecv = this.activatedRoute.snapshot.paramMap.get(\"id\")\n    this.USER_STORAGE_KEY=infoRecv\n    console.log(this.USER_STORAGE_KEY)\n\n\n//Get init data from storage - if stoarge is NULL - empty string  - if previously entered assign last entered data\n    this.dataService.getStorageData(this.USER_STORAGE_KEY).then((val) => {\n      // console.log(val)\n      // console.log(val[0].length == 0)\n      if (val[0].length == 0) { \n        this.firstname = \"\";\n        this.lastname = \"\";\n        this.weight = \"\";\n        this.duration = \"\";\n      } else {\n        // console.log(val[0][val[0].length - 1].firstname)\n        this.firstname = val[0][val[0].length - 1].firstname;\n        this.lastname = val[0][val[0].length - 1].lastname;\n        this.weight = val[0][val[0].length - 1].weight;\n        this.duration = val[0][val[0].length - 1].duration;\n        }\n    }); \n  }\n\n  showDatePicker(){\n    this.calendarPicker = true;\n    this.inputDuration = false;\n    this.pickerIsHidden = false;\n    this.inputIsHidden = true;\n    // console.log(this.duration.value)\n    \n  }\n  showDateInput(){\n    this.inputDuration = true;\n    this.calendarPicker = false;\n    this.inputIsHidden = false;\n    this.pickerIsHidden = true;\n  }\n\n  addDays(date, days) {\n    var result = new Date(date);\n    result.setDate(result.getDate() + days);\n    return result;\n  }\n\n\n\n// when button is clicked - get inputs and assign to varibles & add to storage \n  async btnClicked(){\n\n    let infoRecv = this.activatedRoute.snapshot.paramMap.get(\"id\")\n    this.USER_STORAGE_KEY=infoRecv\n\n    if (this.calendarPicker === true){\n      let date2 = new Date();\n      let date1 = new Date(this.date);\n      this.endDate = date1\n      this.startDate = date2\n      // console.log(date1)\n      // console.log(date2)\n      let timeInMilisec = date1.getTime() - date2.getTime();\n      let daysBetweenDates = Math.ceil(timeInMilisec / (1000 * 60 * 60 * 24));\n      this.duration=daysBetweenDates\n    } else {\n      // let endDate = new Date();\n      console.log(typeof(this.duration))\n      var myCurrentDate=new Date();\n      var myFutureDate=new Date(myCurrentDate);\n      myFutureDate.setDate(myFutureDate.getDate()+ this.duration);//myFutureDate is now 8 days in the future\n      console.log(myFutureDate)\n      this.endDate=myFutureDate\n\n    }\n\n    let info = {\n      initData: {\n        firstname: this.firstname,\n        lastname: this.lastname,\n        weight: this.weight,\n        duration: this.duration,\n        username: this.USER_STORAGE_KEY,\n        startDate: this.startDate,\n        endDate: this.endDate\n      }\n    }\n\n\n    await this.dataService.addStorageDataNew(this.USER_STORAGE_KEY, 0, info) \n    \n    this.router.navigate(['main', this.USER_STORAGE_KEY])\n  }\n\n}\n","<ion-header collapse=\"condense\" class=\"ion-padding-top\">\n  <ion-toolbar>\n    <ion-title size=\"large\">Welcome</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n\n<div id=\"container\">\n  <ion-list class=\"background\">\n\n  \n      <ion-item ><ion-input [(ngModel)]=\"firstname\" placeholder=\"First Name\"></ion-input></ion-item>\n      <ion-item ><ion-input [(ngModel)]=\"lastname\" placeholder=\"Second Name\"></ion-input></ion-item>\n      <ion-item ><ion-input [(ngModel)]=\"weight\" placeholder=\"Current Weight\"></ion-input></ion-item>\n\n      <ion-row wrap>\n        <ion-col width-50>\n          <ion-button (click)=\"showDateInput()\" shape=\"round\" class=\"buttonRow\" expand=\"full\" >Choose Duration<ion-icon class=\"icon\" name=\"time-outline\"></ion-icon></ion-button>\n        </ion-col>\n        <ion-col width-50>\n          <ion-button (click)=\"showDatePicker()\" shape=\"round\" class=\"buttonRow\" expand=\"full\">Pick Finishing Date <ion-icon class=\"icon\" name=\"calendar-outline\"></ion-icon></ion-button>\n        </ion-col>\n      </ion-row>\n\n      <ion-item [hidden]=inputIsHidden >\n        <ion-input type=\"number\" min=\"0\" inputmode=\"numeric\" pattern=\"[0-9]*\" [(ngModel)]=\"duration\" placeholder=\"Number of Days\"></ion-input>\n        </ion-item>\n\n        <!-- TODO - CHANGE WEIGHT AND DURTION TO KEYPAD INPUT && DISPLAY FINISHING DATE ON BOTH HOME AND MAIN PAGES  -->\n\n        <ion-item [hidden]=pickerIsHidden>\n          <ion-label>Finishing Date</ion-label>\n          <ion-input\n            value=\"{{ date | date: 'dd.MM.yyyy' }}\"\n            id=\"date\"\n            class=\"ion-text-end\"></ion-input>\n              <ion-datetime presentation=\"date\" [(ngModel)]=\"date\"></ion-datetime>\n        </ion-item>\n\n\n\n    <div>\n      <ion-button (click)=\"btnClicked()\" shape=\"round\">DONE</ion-button>\n    </div>\n  \n  </ion-list>\n\n\n\n\n"],"sourceRoot":"webpack:///"}